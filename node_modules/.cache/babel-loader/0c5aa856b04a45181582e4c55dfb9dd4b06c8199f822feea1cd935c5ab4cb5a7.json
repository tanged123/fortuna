{"ast":null,"code":"var _jsxFileName = \"/home/tanged/repo/Fortuna/src/components/SankeyChart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useRef, useCallback } from 'react';\nimport { sankey, sankeyJustify, sankeyLinkHorizontal } from 'd3-sankey';\nimport { scaleOrdinal } from 'd3-scale';\nimport { formatCurrency } from '../utils/csvParser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SankeyChart = ({\n  data\n}) => {\n  _s();\n  const [hoveredNode, setHoveredNode] = useState(null);\n  const [hoveredLink, setHoveredLink] = useState(null);\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const svgRef = useRef(null);\n\n  // Generate Sankey data from financial data\n  const sankeyData = useMemo(() => {\n    const nodes = [];\n    const links = [];\n\n    // Add income node\n    nodes.push({\n      name: 'Monthly Income',\n      category: 'income'\n    });\n\n    // Add expense nodes and links\n    data.expenses.forEach(expense => {\n      const categoryKey = expense.category.toLowerCase().replace(/[^a-z]/g, '');\n      nodes.push({\n        name: expense.category,\n        category: categoryKey\n      });\n      links.push({\n        source: 'Monthly Income',\n        target: expense.category,\n        value: expense.amount\n      });\n    });\n\n    // Add savings node and link\n    if (data.savings > 0) {\n      nodes.push({\n        name: 'Savings',\n        category: 'savings'\n      });\n      links.push({\n        source: 'Monthly Income',\n        target: 'Savings',\n        value: data.savings\n      });\n    }\n    return {\n      nodes,\n      links\n    };\n  }, [data]);\n\n  // Chart dimensions\n  const MARGIN_Y = 25;\n  const MARGIN_X = 5;\n  const containerWidth = 900;\n  const containerHeight = 600;\n\n  // Color scale\n  const allGroups = [...new Set(sankeyData.nodes.map(d => d.category))].sort();\n  const COLORS = [\"#10B981\", \"#EF4444\", \"#F59E0B\", \"#8B5CF6\", \"#EC4899\", \"#6B7280\", \"#F97316\", \"#84CC16\", \"#06B6D4\", \"#F43F5E\", \"#A855F7\", \"#64748B\", \"#3B82F6\"];\n  const colorScale = scaleOrdinal().domain(allGroups).range(COLORS);\n\n  // Set up the sankey diagram properties\n  const sankeyGenerator = sankey().nodeWidth(26).nodePadding(10).extent([[MARGIN_X, MARGIN_Y], [containerWidth - MARGIN_X, containerHeight - MARGIN_Y]]).nodeId(node => node.name).nodeAlign(sankeyJustify);\n\n  // Compute nodes and links positions\n  const {\n    nodes,\n    links\n  } = sankeyGenerator(sankeyData);\n\n  // Pan and zoom handlers\n  const handleWheel = useCallback(e => {\n    e.preventDefault();\n    const delta = e.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(0.1, Math.min(3, zoom * delta));\n    setZoom(newZoom);\n  }, [zoom]);\n  const handleMouseDown = useCallback(e => {\n    if (e.button === 0) {\n      // Left mouse button\n      setIsDragging(true);\n      setDragStart({\n        x: e.clientX - pan.x,\n        y: e.clientY - pan.y\n      });\n    }\n  }, [pan]);\n  const handleMouseMove = useCallback(e => {\n    if (isDragging) {\n      setPan({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    }\n  }, [isDragging, dragStart]);\n  const handleMouseUp = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n  const resetView = useCallback(() => {\n    setZoom(1);\n    setPan({\n      x: 0,\n      y: 0\n    });\n  }, []);\n\n  // Touch support for mobile\n  const handleTouchStart = useCallback(e => {\n    if (e.touches.length === 1) {\n      const touch = e.touches[0];\n      setIsDragging(true);\n      setDragStart({\n        x: touch.clientX - pan.x,\n        y: touch.clientY - pan.y\n      });\n    }\n  }, [pan]);\n  const handleTouchMove = useCallback(e => {\n    if (isDragging && e.touches.length === 1) {\n      const touch = e.touches[0];\n      setPan({\n        x: touch.clientX - dragStart.x,\n        y: touch.clientY - dragStart.y\n      });\n    }\n  }, [isDragging, dragStart]);\n  const handleTouchEnd = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  // Render nodes\n  const allNodes = nodes.map(node => {\n    return /*#__PURE__*/_jsxDEV(\"g\", {\n      children: /*#__PURE__*/_jsxDEV(\"rect\", {\n        height: node.y1 - node.y0,\n        width: sankeyGenerator.nodeWidth(),\n        x: node.x0,\n        y: node.y0,\n        stroke: \"black\",\n        fill: colorScale(node.category),\n        fillOpacity: 1,\n        rx: 0.9,\n        className: \"transition-all duration-200 cursor-pointer\",\n        style: {\n          opacity: hoveredNode === node.name ? 0.9 : 1,\n          transform: hoveredNode === node.name ? 'scale(1.02)' : 'scale(1)'\n        },\n        onMouseEnter: () => setHoveredNode(node.name),\n        onMouseLeave: () => setHoveredNode(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, node.index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this);\n  });\n\n  // Render links\n  const allLinks = links.map((link, i) => {\n    const linkGenerator = sankeyLinkHorizontal();\n    const path = linkGenerator(link);\n    return /*#__PURE__*/_jsxDEV(\"path\", {\n      d: path,\n      stroke: colorScale(link.source.category),\n      fill: \"none\",\n      strokeOpacity: hoveredLink === i ? 0.8 : 0.3,\n      strokeWidth: link.width,\n      className: \"transition-all duration-200 cursor-pointer\",\n      onMouseEnter: () => setHoveredLink(i),\n      onMouseLeave: () => setHoveredLink(null)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this);\n  });\n\n  // Render labels\n  const allLabels = nodes.map((node, i) => {\n    return /*#__PURE__*/_jsxDEV(\"text\", {\n      x: node.x0 < containerWidth / 2 ? node.x1 + 6 : node.x0 - 6,\n      y: (node.y1 + node.y0) / 2,\n      dy: \"0.35rem\",\n      textAnchor: node.x0 < containerWidth / 2 ? \"start\" : \"end\",\n      fontSize: 12,\n      className: \"fill-gray-700 font-medium\",\n      children: node.name\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-2\",\n        children: \"Money Flow Visualization\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600\",\n        children: \"See how your monthly income flows into expenses and savings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setZoom(Math.max(0.1, zoom - 0.1)),\n            className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border\",\n            children: \"Zoom Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setZoom(Math.min(3, zoom + 0.1)),\n            className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border\",\n            children: \"Zoom In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetView,\n            className: \"px-3 py-1 text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 rounded border\",\n            children: \"Reset View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Zoom: \", Math.round(zoom * 100), \"% | Scroll to zoom, drag to pan\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-4 text-xs\",\n            children: [\"Scale: \", formatCurrency(totalOutgoing), \" = 100% height\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-gray-200 rounded-lg overflow-hidden\",\n        style: {\n          height: '600px',\n          cursor: isDragging ? 'grabbing' : 'grab'\n        },\n        onWheel: handleWheel,\n        onMouseDown: handleMouseDown,\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp,\n        onMouseLeave: handleMouseUp,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          ref: svgRef,\n          width: \"100%\",\n          height: \"100%\",\n          viewBox: `${-pan.x} ${-pan.y} ${containerWidth / zoom} ${containerHeight / zoom}`,\n          style: {\n            minWidth: containerWidth * zoom,\n            minHeight: containerHeight * zoom,\n            transform: `scale(${zoom})`,\n            transformOrigin: '0 0'\n          },\n          children: [allLinks, allNodes, allLabels]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), hoveredNode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bg-gray-900 text-white px-3 py-2 rounded-lg shadow-lg text-sm z-10 pointer-events-none\",\n      children: (() => {\n        const node = nodes.find(n => n.name === hoveredNode);\n        if (!node) return null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold\",\n            children: node.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-300\",\n            children: formatCurrency(node.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 17\n          }, this), node.name === 'Monthly Income' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-400 mt-1\",\n            children: [data.savingsPercentage.toFixed(1), \"% saved\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }, this);\n      })()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\",\n      children: nodes.map(node => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 rounded\",\n          style: {\n            backgroundColor: colorScale(node.category)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-600\",\n          children: [node.name, \": \", formatCurrency(node.value)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, node.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: formatCurrency(data.monthlyNetIncome)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Total Income\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-red-600\",\n          children: formatCurrency(data.totalExpenses)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Total Expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: formatCurrency(data.savings)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Savings (\", data.savingsPercentage.toFixed(1), \"%)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n};\n_s(SankeyChart, \"AbT/F23Wvjw1VSxObL7y/HzHKqw=\");\n_c = SankeyChart;\nexport default SankeyChart;\nvar _c;\n$RefreshReg$(_c, \"SankeyChart\");","map":{"version":3,"names":["React","useState","useMemo","useRef","useCallback","sankey","sankeyJustify","sankeyLinkHorizontal","scaleOrdinal","formatCurrency","jsxDEV","_jsxDEV","SankeyChart","data","_s","hoveredNode","setHoveredNode","hoveredLink","setHoveredLink","zoom","setZoom","pan","setPan","x","y","isDragging","setIsDragging","dragStart","setDragStart","svgRef","sankeyData","nodes","links","push","name","category","expenses","forEach","expense","categoryKey","toLowerCase","replace","source","target","value","amount","savings","MARGIN_Y","MARGIN_X","containerWidth","containerHeight","allGroups","Set","map","d","sort","COLORS","colorScale","domain","range","sankeyGenerator","nodeWidth","nodePadding","extent","nodeId","node","nodeAlign","handleWheel","e","preventDefault","delta","deltaY","newZoom","Math","max","min","handleMouseDown","button","clientX","clientY","handleMouseMove","handleMouseUp","resetView","handleTouchStart","touches","length","touch","handleTouchMove","handleTouchEnd","allNodes","children","height","y1","y0","width","x0","stroke","fill","fillOpacity","rx","className","style","opacity","transform","onMouseEnter","onMouseLeave","fileName","_jsxFileName","lineNumber","columnNumber","index","allLinks","link","i","linkGenerator","path","strokeOpacity","strokeWidth","allLabels","x1","dy","textAnchor","fontSize","onClick","round","totalOutgoing","cursor","onWheel","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","ref","viewBox","minWidth","minHeight","transformOrigin","find","n","savingsPercentage","toFixed","backgroundColor","monthlyNetIncome","totalExpenses","_c","$RefreshReg$"],"sources":["/home/tanged/repo/Fortuna/src/components/SankeyChart.tsx"],"sourcesContent":["import React, { useState, useMemo, useRef, useCallback } from 'react';\nimport { sankey, sankeyJustify, sankeyLinkHorizontal } from 'd3-sankey';\nimport { scaleOrdinal } from 'd3-scale';\nimport { ParsedFinancialData } from '../types/finance';\nimport { formatCurrency } from '../utils/csvParser';\n\ninterface SankeyChartProps {\n  data: ParsedFinancialData;\n}\n\ninterface SankeyNode {\n  name: string;\n  category: string;\n}\n\ninterface SankeyLink {\n  source: string;\n  target: string;\n  value: number;\n}\n\ninterface SankeyData {\n  nodes: SankeyNode[];\n  links: SankeyLink[];\n}\n\nconst SankeyChart: React.FC<SankeyChartProps> = ({ data }) => {\n  const [hoveredNode, setHoveredNode] = useState<string | null>(null);\n  const [hoveredLink, setHoveredLink] = useState<number | null>(null);\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const svgRef = useRef<SVGSVGElement>(null);\n\n  // Generate Sankey data from financial data\n  const sankeyData = useMemo((): SankeyData => {\n    const nodes: SankeyNode[] = [];\n    const links: SankeyLink[] = [];\n\n    // Add income node\n    nodes.push({\n      name: 'Monthly Income',\n      category: 'income'\n    });\n\n    // Add expense nodes and links\n    data.expenses.forEach((expense) => {\n      const categoryKey = expense.category.toLowerCase().replace(/[^a-z]/g, '');\n      \n      nodes.push({\n        name: expense.category,\n        category: categoryKey\n      });\n\n      links.push({\n        source: 'Monthly Income',\n        target: expense.category,\n        value: expense.amount\n      });\n    });\n\n    // Add savings node and link\n    if (data.savings > 0) {\n      nodes.push({\n        name: 'Savings',\n        category: 'savings'\n      });\n\n      links.push({\n        source: 'Monthly Income',\n        target: 'Savings',\n        value: data.savings\n      });\n    }\n\n    return { nodes, links };\n  }, [data]);\n\n  // Chart dimensions\n  const MARGIN_Y = 25;\n  const MARGIN_X = 5;\n  const containerWidth = 900;\n  const containerHeight = 600;\n  \n  // Color scale\n  const allGroups = [...new Set(sankeyData.nodes.map((d) => d.category))].sort();\n  const COLORS = [\"#10B981\", \"#EF4444\", \"#F59E0B\", \"#8B5CF6\", \"#EC4899\", \"#6B7280\", \"#F97316\", \"#84CC16\", \"#06B6D4\", \"#F43F5E\", \"#A855F7\", \"#64748B\", \"#3B82F6\"];\n  const colorScale = scaleOrdinal<string>().domain(allGroups).range(COLORS);\n\n  // Set up the sankey diagram properties\n  const sankeyGenerator = sankey()\n    .nodeWidth(26)\n    .nodePadding(10)\n    .extent([\n      [MARGIN_X, MARGIN_Y],\n      [containerWidth - MARGIN_X, containerHeight - MARGIN_Y],\n    ])\n    .nodeId((node: any) => node.name)\n    .nodeAlign(sankeyJustify);\n\n  // Compute nodes and links positions\n  const { nodes, links } = sankeyGenerator(sankeyData as any);\n\n  // Pan and zoom handlers\n  const handleWheel = useCallback((e: React.WheelEvent) => {\n    e.preventDefault();\n    const delta = e.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(0.1, Math.min(3, zoom * delta));\n    setZoom(newZoom);\n  }, [zoom]);\n\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\n    if (e.button === 0) { // Left mouse button\n      setIsDragging(true);\n      setDragStart({ x: e.clientX - pan.x, y: e.clientY - pan.y });\n    }\n  }, [pan]);\n\n  const handleMouseMove = useCallback((e: React.MouseEvent) => {\n    if (isDragging) {\n      setPan({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    }\n  }, [isDragging, dragStart]);\n\n  const handleMouseUp = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  const resetView = useCallback(() => {\n    setZoom(1);\n    setPan({ x: 0, y: 0 });\n  }, []);\n\n  // Touch support for mobile\n  const handleTouchStart = useCallback((e: React.TouchEvent) => {\n    if (e.touches.length === 1) {\n      const touch = e.touches[0];\n      setIsDragging(true);\n      setDragStart({ x: touch.clientX - pan.x, y: touch.clientY - pan.y });\n    }\n  }, [pan]);\n\n  const handleTouchMove = useCallback((e: React.TouchEvent) => {\n    if (isDragging && e.touches.length === 1) {\n      const touch = e.touches[0];\n      setPan({\n        x: touch.clientX - dragStart.x,\n        y: touch.clientY - dragStart.y\n      });\n    }\n  }, [isDragging, dragStart]);\n\n  const handleTouchEnd = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  // Render nodes\n  const allNodes = nodes.map((node: any) => {\n    return (\n      <g key={node.index}>\n        <rect\n          height={node.y1 - node.y0}\n          width={sankeyGenerator.nodeWidth()}\n          x={node.x0}\n          y={node.y0}\n          stroke={\"black\"}\n          fill={colorScale(node.category)}\n          fillOpacity={1}\n          rx={0.9}\n          className=\"transition-all duration-200 cursor-pointer\"\n          style={{\n            opacity: hoveredNode === node.name ? 0.9 : 1,\n            transform: hoveredNode === node.name ? 'scale(1.02)' : 'scale(1)',\n          }}\n          onMouseEnter={() => setHoveredNode(node.name)}\n          onMouseLeave={() => setHoveredNode(null)}\n        />\n      </g>\n    );\n  });\n\n  // Render links\n  const allLinks = links.map((link: any, i: number) => {\n    const linkGenerator = sankeyLinkHorizontal();\n    const path = linkGenerator(link);\n\n    return (\n      <path\n        key={i}\n        d={path}\n        stroke={colorScale(link.source.category)}\n        fill=\"none\"\n        strokeOpacity={hoveredLink === i ? 0.8 : 0.3}\n        strokeWidth={link.width}\n        className=\"transition-all duration-200 cursor-pointer\"\n        onMouseEnter={() => setHoveredLink(i)}\n        onMouseLeave={() => setHoveredLink(null)}\n      />\n    );\n  });\n\n  // Render labels\n  const allLabels = nodes.map((node: any, i: number) => {\n    return (\n      <text\n        key={i}\n        x={node.x0 < containerWidth / 2 ? node.x1 + 6 : node.x0 - 6}\n        y={(node.y1 + node.y0) / 2}\n        dy=\"0.35rem\"\n        textAnchor={node.x0 < containerWidth / 2 ? \"start\" : \"end\"}\n        fontSize={12}\n        className=\"fill-gray-700 font-medium\"\n      >\n        {node.name}\n      </text>\n    );\n  });\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 relative\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n          Money Flow Visualization\n        </h3>\n        <p className=\"text-sm text-gray-600\">\n          See how your monthly income flows into expenses and savings\n        </p>\n      </div>\n\n      <div className=\"relative\">\n        {/* Controls */}\n        <div className=\"mb-4 flex justify-between items-center\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setZoom(Math.max(0.1, zoom - 0.1))}\n              className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border\"\n            >\n              Zoom Out\n            </button>\n            <button\n              onClick={() => setZoom(Math.min(3, zoom + 0.1))}\n              className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border\"\n            >\n              Zoom In\n            </button>\n            <button\n              onClick={resetView}\n              className=\"px-3 py-1 text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 rounded border\"\n            >\n              Reset View\n            </button>\n          </div>\n          <div className=\"text-sm text-gray-600\">\n            Zoom: {Math.round(zoom * 100)}% | Scroll to zoom, drag to pan\n            <span className=\"ml-4 text-xs\">\n              Scale: {formatCurrency(totalOutgoing)} = 100% height\n            </span>\n          </div>\n        </div>\n\n        {/* Chart Container */}\n        <div \n          className=\"border border-gray-200 rounded-lg overflow-hidden\"\n          style={{ height: '600px', cursor: isDragging ? 'grabbing' : 'grab' }}\n          onWheel={handleWheel}\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseUp}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          <svg\n            ref={svgRef}\n            width=\"100%\"\n            height=\"100%\"\n            viewBox={`${-pan.x} ${-pan.y} ${containerWidth / zoom} ${containerHeight / zoom}`}\n            style={{ \n              minWidth: containerWidth * zoom, \n              minHeight: containerHeight * zoom,\n              transform: `scale(${zoom})`,\n              transformOrigin: '0 0'\n            }}\n          >\n            {allLinks}\n            {allNodes}\n            {allLabels}\n          </svg>\n        </div>\n      </div>\n\n      {/* Tooltip */}\n      {hoveredNode && (\n        <div className=\"absolute bg-gray-900 text-white px-3 py-2 rounded-lg shadow-lg text-sm z-10 pointer-events-none\">\n          {(() => {\n            const node = nodes.find((n: any) => n.name === hoveredNode);\n            if (!node) return null;\n            return (\n              <div>\n                <div className=\"font-semibold\">{node.name}</div>\n                <div className=\"text-gray-300\">{formatCurrency(node.value)}</div>\n                {node.name === 'Monthly Income' && (\n                  <div className=\"text-xs text-gray-400 mt-1\">\n                    {data.savingsPercentage.toFixed(1)}% saved\n                  </div>\n                )}\n              </div>\n            );\n          })()}\n        </div>\n      )}\n\n      {/* Legend */}\n      <div className=\"mt-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n        {nodes.map((node: any) => (\n          <div key={node.name} className=\"flex items-center space-x-2\">\n            <div\n              className=\"w-3 h-3 rounded\"\n              style={{ backgroundColor: colorScale(node.category) }}\n            />\n            <span className=\"text-xs text-gray-600\">\n              {node.name}: {formatCurrency(node.value)}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {/* Summary Stats */}\n      <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg\">\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-green-600\">\n            {formatCurrency(data.monthlyNetIncome)}\n          </div>\n          <div className=\"text-sm text-gray-600\">Total Income</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-red-600\">\n            {formatCurrency(data.totalExpenses)}\n          </div>\n          <div className=\"text-sm text-gray-600\">Total Expenses</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-blue-600\">\n            {formatCurrency(data.savings)}\n          </div>\n          <div className=\"text-sm text-gray-600\">Savings ({data.savingsPercentage.toFixed(1)}%)</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SankeyChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}